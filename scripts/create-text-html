#!/bin/bash
#
# Usage: create-text-html <dir> <html-head-path>
# Creates text.html page from text.md file using markdown command. 

course=`basename "$1"`
tmpFileText=`mktemp`
# add head section
cat "$2" > "$tmpFileText"
# add link to text file on github
echo "<a href=\"../../index.html\">Domov</a>" >> "$tmpFileText"

echo "<a href=\"https://github.com/gto76/fri/blob/gh-pages/courses/$course/text.md\">Uredi</a>" >> "$tmpFileText"

# skip first divider
head -n7 "$1"text.md >> "$tmpFileText"
tail -n+9 "$1"text.md >> "$tmpFileText"
# parse
markdown "$tmpFileText" > "$1"text.html

